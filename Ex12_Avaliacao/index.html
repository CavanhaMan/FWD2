<!DOCTYPE html>
<!-- Rodrigo CavanhaMan -->
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Language" content="pt-br">
    <title>Prova PG1</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        #txtTexto{width:400px;}
    </style>
</head>
<body>
    <label for="txtTexto">Informe um texto qualquer: </label>
    <input type="text" id="txtTexto" placeholder="Digite um texto" value="Instituto Federal do Triângulo Mineiro Minas Gerais meu preferido" />
    <BR>
    <input type="submit" value="enviar" name="btEnviar" onclick="validaTexto()" />
    <p>O texto deve respeitar as regras:</p>
    <ul>
        <li>conter apenas letras (podendo ter acento ou não)</li>
        <li>espaços em branco e vírgulas</li>
        <li>(mínimo de 9 caracteres e no máximo 50 caracteres)</li>
        <li>O texto DEVE iniciar com a palavra INSTITUTO - (a primeira letra dessa palavra deve ser maiúscula as demais podem ser tanto maiúsculas quanto minúsculas)</li>
    </ul>
    <script>
        //alert("Seja bem-vindo!");
        var txtTexto = document.getElementById("txtTexto");
        var btEnviar = document.getElementById("btEnviar");
        function validaTexto(){
            var dado = txtTexto.value;
            console.log(dado);
			console.log(dado.length);
			var padraoD = /^MT-\d{2}\.\d{3}-IFTM$/i;
            //var padrao = /^I(N|n)(S|s)(T|t)(I|i)(T|t)(U|u)(T|t)(O|o)\w{0,41}$/;
            //var padrao = /^[A-Za-z\s]{9,70}$/;
			var padrao = /^I(N|n)(S|s)(T|t)(I|i)(T|t)(U|u)(T|t)(O|o)[\w\s,]{9,70}$/;
/*            if (txtTexto=="")
                alert("“Informe o texto seguindo o padrão esperado")
            else if (txtTexto.length<9 || txtTexto.length>50)
                alert("“Informe o texto seguindo o padrão esperado");
            else*/
            console.log(padrao.test(dado));
            if (padrao.test(dado)){
                txtTexto.style.backgroundColor = "green";
            }
            else{
                txtTexto.style.backgroundColor = "red";
		    }
//            window.open("analisarTxt.html","_self")
        }
    </script>
</body>
</html>

<!--  
/***LETRA D*******************************************************************/
//Único formato permitido: MT-xx.xxx-IFTM. Onde x é um dígito e 
//as letras do padrão poderão ser tanto maiúsculas quanto minúsculas.
document.getElementById("txtD").onfocus = function() {
    document.getElementById("validaD").checked=false;
    document.getElementById("mensagemD").innerHTML="";
}
document.getElementById("validaD").onclick = function() {
	if (document.getElementById("validaD").checked==false){
		document.getElementById("validaD").checked=false;
		document.getElementById("mensagemD").innerHTML="";
	}
	else{
		var dadoD = document.getElementById("txtD").value;
		var padraoD = /^MT-\d{2}\.\d{3}-IFTM$/i;
		if (padraoD.test(dadoD)){
			document.getElementById("mensagemD").innerHTML=" = Válido!";
			document.getElementById("mensagemD").style.backgroundColor = "green";
		}
		else{
			document.getElementById("mensagemD").innerHTML=" = Inválido!";
			document.getElementById("mensagemD").style.backgroundColor = "red";
		}
	}
};
-->